



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quizify</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="img.png">
</head>
<body>    
    <!-- Notification Toast -->
    <div id="notification-toast" class="notification-toast">
        <div id="toast-spinner" class="toast-spinner" style="display: none;">
            <div class="spinner"></div>
        </div>
        <div id="toast-icon-container"></div>
        <p id="toast-message" class="toast-message"></p>
        <button id="toast-info-btn" class="toast-info-btn" title="Show details" style="display: none;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
        </button>
    </div>

    <!-- Onboarding Modal -->
    <div id="onboarding-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Welcome to Quizify!</h2>
            <p>Let's personalize your experience. What should we call you?</p>
            <input type="text" id="user-name-input" placeholder="Enter your name">
            <p>Enter a unique 4-digit PIN to save and retrieve your progress.</p>
            <input type="number" id="user-pin-input" placeholder="Enter a 4-digit PIN" maxlength="4" oninput="this.value=this.value.slice(0,4)">
            <p>What are you preparing for?</p>
            <div class="onboarding-choices">
                <button>Competitive Exams</button>
                <button>Academics</button>
            </div>
        </div>
    </div>

    <!-- NEW: PIN Reminder Modal -->
    <div id="pin-reminder-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Remember Your PIN!</h2>
            <p>Your progress is saved with your Name and PIN. Please remember your PIN to access your progress later.</p>
            <p>Your PIN: <strong id="reminder-pin-display"></strong></p>
            <div class="modal-actions">
                <button id="close-pin-reminder-btn">I Understand</button>
            </div>
        </div>
    </div>


    <!-- Logout Confirmation Modal -->
    <div id="logout-confirm-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Confirm Logout</h2>
            <p>Are you sure you want to logout? This will clear your session and allow you to change your preparation focus.</p>
            <div class="modal-actions">
                <button id="cancel-logout-btn" class="btn--secondary">Cancel</button>
                <button id="confirm-logout-btn">Logout</button>
            </div>
        </div>
    </div>

    <!-- NEW: Account Update Spinner Modal -->
    <div id="account-update-modal" class="modal-overlay">
        <div class="modal-content">
            <div id="account-update-spinner-container" class="spinner-container" style="padding: 20px 0;">
                <div class="spinner"></div>
            </div>
            <div id="account-update-success-container" style="display: none;"></div>
            <h2 id="account-update-title">Updating Account...</h2>
            <p id="account-update-message">Please wait while we migrate your data. This may take a moment.</p>
        </div>
    </div>

    <!-- NEW: Edit Account Confirmation Modal -->
    <div id="edit-account-confirm-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Edit Account Details</h2>
            <p>You are about to edit your login details. Changing your name or PIN will require you to use the new credentials to log in next time. Are you sure you want to proceed?</p>
            <div class="modal-actions">
                <button id="cancel-edit-account-btn" class="btn--secondary">Cancel</button>
                <button id="proceed-edit-account-btn">Yes, Proceed</button>
            </div>
        </div>
    </div>

    <!-- NEW: Delete Account - Step 1 & 3: Confirmation Modals -->
    <div id="delete-confirm-modal" class="modal-overlay">
        <div class="modal-content">
            <h2 id="delete-confirm-title">Delete Account</h2>
            <p id="delete-confirm-message">This is a permanent action. Are you sure you want to proceed?</p>
            <div class="modal-actions">
                <button id="cancel-delete-btn" class="btn--secondary">Cancel</button>
                <button id="confirm-delete-btn" class="btn--danger">Proceed</button>
            </div>
        </div>
    </div>

    <!-- NEW: Delete Account - Step 2: Credential Verification -->
    <div id="delete-credential-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Verify Your Identity</h2>
            <p>To continue, please enter your name and PIN to confirm you own this account.</p>
            <input type="text" id="delete-account-name-input" class="form-control" placeholder="Enter your name" style="margin-bottom: 1rem;">
            <input type="number" id="delete-account-pin-input" class="form-control" placeholder="Enter your 4-digit PIN" maxlength="4" oninput="this.value=this.value.slice(0,4)">
            <div class="modal-actions">
                <button id="cancel-credential-btn" class="btn--secondary">Cancel</button>
                <button id="confirm-credential-btn">Verify & Proceed</button>
            </div>
        </div>
    </div>

    <!-- Locked Content Modal -->
    <div id="locked-content-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Coming Soon!</h2>
            <p>This content is currently under development. We're working hard to bring you new quizzes and topics. Please check back later!</p>
            <div class="modal-actions">
                <button id="close-locked-modal-btn">Got it</button>
            </div>
        </div>
    </div>

    <!-- Update Details Modal -->
    <div id="update-details-modal" class="modal-overlay">
        <div class="modal-content update-modal-content">
            <div class="modal-header">
                <h2 id="update-details-title">Update Details</h2>
                <button id="close-update-details-btn" class="modal-close-btn" title="Close">&times;</button>
            </div>
            <div id="update-details-content" class="update-details-content">
            </div>
        </div>
    </div>

    <!-- NEW: Quiz Mode Selection Modal -->
    <div id="quiz-mode-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Choose Your Mode</h2>
                <button id="close-quiz-mode-btn" class="modal-close-btn" title="Close">&times;</button>
            </div>
            <p>How would you like to attempt this quiz set? </p>
            <div class="quiz-mode-choices">
                <button id="start-timed-quiz-btn">
                    <strong>Timed Quiz</strong><span>(Standard mode with timer and results at the end)</span></button>
                <button id="start-practice-quiz-btn">
                    <strong>Practice Mode</strong><span>(No timer, instant feedback after each question)</span></button>
            </div>
        </div>
    </div>

    <!-- NEW: Retake Passed Quiz Confirmation Modal -->
    <div id="retake-confirm-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Retake Passed Quiz?</h2>
            <p>You have already passed this quiz set. Retaking it will not affect your chapter progress. Do you still want to proceed?</p>
            <div class="modal-actions">
                <button id="cancel-retake-btn" class="btn--secondary">Cancel</button>
                <button id="confirm-retake-btn">Yes, Retake</button>
            </div>
        </div>
    </div>

    <!-- NEW: Generic Info/Festive Wish Modal -->
    <div id="info-modal" class="modal-overlay">
        <div class="modal-content info-modal-content">
            <!-- NEW: Sparkle Animation Container -->
            <div class="sparkle-fall-container">
                <i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i>
            </div>
            <button id="close-info-modal-btn" class="modal-close-btn" title="Close">&times;</button>
            <div class="info-icon"></div>
            <h2 id="info-modal-title"></h2>
            <p id="info-modal-message"></p>
            <p id="info-modal-subtext" class="info-subtext"></p>
        </div>
    </div>

    <div class="container">
        <!-- Page-level Background Animation -->
        <div class="leaves-container">
            <i></i><i></i><i></i><i></i><i></i>
            <i></i><i></i><i></i><i></i><i></i><i></i>
            <i></i><i></i><i></i><i></i><i></i>
            <i></i><i></i><i></i><i></i><i></i>
            <i></i><i></i><i></i><i></i><i></i>
            <i></i><i></i><i></i><i></i><i></i>
            <i></i><i></i><i></i><i></i><i></i>
            <i></i><i></i><i></i><i></i>
        </div>

        <header class="app-header">
            <!-- Hamburger Menu Button -->
            <button id="menu-toggle-btn" class="menu-toggle-btn" aria-label="Open menu">
                <span id="menu-notification-dot" class="notification-dot" style="display: none;"></span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </button>
        </header>

        <!-- Side Menu (Drawer) -->
        <div id="side-menu" class="side-menu">
            <div class="side-menu-header">
                <h3>Settings</h3>
                <button id="close-menu-btn" class="close-btn" aria-label="Close menu">&times;</button>
            </div>
            <div class="side-menu-content">
                <button id="menu-home-btn" class="side-menu-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                    <span>Home</span>
                </button>
                <button id="menu-profile-btn" class="side-menu-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                    <span>My Profile</span>
                </button>
                <a href="mailto:productionrtf@gmail.com?subject=Feedback for Quizify App" class="side-menu-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                    <span>Feedback</span>
                </a>
                <button id="menu-bookmarks-btn" class="side-menu-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg>
                    <span>Bookmarks</span>
                </button>
                <button id="menu-community-btn" class="side-menu-item">
                    <span id="community-notification-dot" class="notification-dot side-menu-dot" style="display: none;"></span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                    <span>Community</span>
                </button>
                <!-- NEW: Settings Button -->
                <button id="menu-settings-btn" class="side-menu-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
                    <span>Settings</span>
                </button>
                <button id="menu-leaderboard-btn" class="side-menu-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                        <path d="m9 12 2 2 4-4"></path>
                    </svg>
                    <span>Leaderboard</span>
                </button>
                <!-- NEW: Theme Chooser -->
                <div class="theme-chooser">
                    <label class="theme-chooser-label">Theme</label>
                    <div id="theme-buttons" class="theme-buttons">
                        <button class="theme-btn" data-theme="light" title="Light Mode">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
                        </button>
                        <button class="theme-btn" data-theme="dark" title="Dark Mode">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
                        </button>
                        <button class="theme-btn" data-theme="system" title="System Default">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg>
                        </button>
                    </div>
                </div>
            </div>
            <div class="side-menu-bottom">
                <button id="logout-btn" class="side-menu-logout-btn">Logout</button>
                <div class="side-menu-footer">
                    <p>Quizify <span id="menu-app-version"></span></p>
                </div>
            </div>
        </div>
        <div id="menu-overlay" class="menu-overlay"></div>

        <!-- Home Page -->
        <div id="home-page" class="page active">
            <div class="home-header">
                <!-- <div class="header-logo" onclick="goToHome()">
                    <img src="img.png" alt="Quiz Logo">
                    <span>Quizify</span> 
                </div> -->
                <!-- NEW: Sparkle container for the welcome message -->
                <div id="welcome-sparkles"></div>
                <h1 id="welcome-heading">Welcome, <span id="user-name-display"></span>!</h1>
                <!-- NEW: Streak Counter -->
                <div id="streak-counter" class="streak-counter" style="display: none;">
                    <span class="streak-icon">🔥</span>
                    <span id="streak-value">0</span>-day streak!
                </div>
            </div>

            <!-- Homepage Search Bar -->
            <div class="homepage-search-container">
                <input type="text" id="homepage-search-input" placeholder="Search for any chapter...">
                <div id="homepage-search-results" class="homepage-search-results"></div>
            </div>

            <!-- Daily Challenge Section -->
            <div id="daily-challenge-section">
                <div class="daily-challenge-card">
                    <div id="daily-challenge-notification-dot" class="notification-dot" style="display: none;"></div>
                    <div class="rain-container">
                        <i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i>
                        <i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i>
                        <i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i>
                    </div>
                    <h2>🔥 Daily Challenge</h2>
                    <p id="daily-challenge-date" class="daily-challenge-date-text"></p>
                    <p>Test your knowledge with 20 random questions from all subjects. A new quiz is available every day!</p>
                    <span id="daily-challenge-status"></span>
                    <div class="daily-challenge-cta">
                        <span>Start Challenge</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="12 5 19 12 12 19"></polyline><line x1="19" y1="12" x2="5" y2="12"></line></svg>
                    </div>
                </div>
            </div>

            <!-- NEW: Personal Best Score Section -->
            <div id="personal-best-section" class="personal-best-card" style="display: none;">
                <div class="personal-best-icon">🏆</div>
                <h2>Your Personal Best</h2>
                <p>Your highest score across all quizzes.</p>
                <div class="personal-best-score">
                    <span id="personal-best-score-value">0</span>%
                </div>
                <p class="personal-best-quiz-name">
                    Achieved in: <strong id="personal-best-quiz-name">N/A</strong>
                </p>
            </div>

            <!-- Competitive Exams Section -->
            <div id="competitive-section">
                <div class="section-header">
                    <h2>Start Your Preparation</h2>
                </div>
                <div class="subjects-grid">
                    <div class="subject-card" data-subject="quantitative">
                        <img src="https://cdn-icons-png.flaticon.com/512/1048/1048925.png" alt="Quantitative Aptitude Icon" class="card-icon">
                        <h2>Quantitative Aptitude</h2>
                        <p>Mathematics and numerical ability</p>
                    </div>
                    <div class="subject-card" data-subject="english">
                        <img src="https://cdn-icons-png.flaticon.com/512/201/201605.png" alt="English Icon" class="card-icon">
                        <h2>English</h2>
                        <p>Grammar, vocabulary, and comprehension</p>
                    </div>
                    <div class="subject-card" data-subject="reasoning">
                        <img src="https://cdn-icons-png.flaticon.com/512/3406/3406828.png" alt="Reasoning Icon" class="card-icon">
                        <h2>Reasoning</h2>
                        <p>Logical and analytical reasoning</p>
                    </div>
                </div>
            </div>

            <!-- Academic Classes Section -->
            <div id="academic-section">
                <div class="section-header">
                    <h2>Choose Your Class</h2>
                </div>
                <div class="subjects-grid">
                    <div class="subject-card" data-class="9">
                        <img src="https://cdn-icons-png.flaticon.com/512/2232/2232688.png" alt="Class 9 Icon" class="card-icon">
                        <h2>Class 9</h2>
                        <p>Foundation level science and mathematics</p>
                    </div>
                    <div class="subject-card" data-class="10">
                        <img src="https://www.bing.com/th/id/OIP.GLmrK9nrSn8dySOsOJbYpgHaHa?w=203&h=211&c=8&rs=1&qlt=90&o=6&dpr=1.5&pid=3.1&rm=2" alt="Class 10 Icon" class="card-icon">
                        <h2>Class 10</h2>
                        <p>Board exam preparation</p>
                    </div>
                    <div class="subject-card" data-class="11">
                        <img src="https://cdn-icons-png.flaticon.com/512/2997/2997345.png" alt="Class 11 Icon" class="card-icon">
                        <h2>Class 11</h2>
                        <p>Higher secondary - Stream based</p>
                    </div>
                    <div class="subject-card" data-class="12">
                        <img src="https://cdn-icons-png.flaticon.com/512/3063/3063838.png" alt="Class 12 Icon" class="card-icon">
                        <h2>Class 12</h2>
                        <p>Board &amp; competitive exam prep</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stream Selection Page (for Class 11 & 12) -->
        <div id="stream-page" class="page">
            <button class="back-btn">← Home</button>
            <h1 id="stream-title">Choose Your Stream</h1>
            <div id="streams-grid" class="subjects-grid">
                <!-- Stream cards will be dynamically populated -->
            </div>
        </div>

        <!-- Class Subject Page -->
        <div id="class-page" class="page">
            <button class="back-btn">← Back</button>
            <h1 id="class-title">Class Subjects</h1>
            <div id="class-content">
                <!-- Subject cards will be dynamically populated -->
            </div>
        </div>

        <!-- Subject Page -->
        <div id="subject-page" class="page">
            <button class="back-btn">← Back</button>
            <h1 id="subject-title">Subject Chapters</h1>
            <div class="search-container">
                <input type="text" id="search-chapters" placeholder="Search for a chapter...">
            </div>
            <div id="chapters-grid" class="chapters-grid">
                <!-- Chapters will be populated by JavaScript -->
            </div>
        </div>

        <!-- Chapter Page -->
        <div id="chapter-page" class="page">
            <button class="back-btn">← Back to Subjects</button>
            <h1 id="chapter-title">Chapter</h1>
            
            <div class="chapter-info">
                <div class="stats">
                    <div class="stat-item">
                        <span class="stat-label">Total Questions</span>
                        <span class="stat-value" id="total-questions">100</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Completed Sets</span>
                        <span class="stat-value" id="completed-sets">0/5</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Average Score</span>
                        <span class="stat-value" id="average-score">0%</span>
                    </div>
                </div>

                <div class="sets-selection">
                    <h3>Practice Sets</h3>
                    <div id="sets-grid" class="sets-grid">
                        <!-- Sets will be populated by JavaScript -->
                    </div>
                </div>

                <div class="progress-section">
                    <h3>Progress Information</h3>
                    <div id="progress-info" class="progress-info"></div>
                </div>
            </div>
        </div>

        <!-- Quiz Page -->
        <div id="quiz-page" class="page">
            <div class="quiz-header">
                <div class="quiz-content-area">

                </div>
                <div>
                    <div id="current-question">Question 1 of 20</div>
                    <div>Set <span id="current-set">1</span></div>
                </div>
                <div class="quiz-info">
                    <div id="timer">20:00</div>
                </div>
            </div>

            <div class="question-container">
                <div class="question-header-flex">
                    <span id="question-year-badge" class="question-year-badge"></span>
                    <h2 id="question-text">Question will appear here</h2>
                    <button id="bookmark-btn" class="bookmark-btn" title="Bookmark this question">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg>
                    </button>
                </div>
                <div id="options-container" class="options-container">
                    <!-- Options will be populated by JavaScript -->
                </div>
            </div>
            
            <!-- NEW: Instant Feedback for Practice Mode -->
            <div id="practice-feedback" class="practice-feedback"></div>

            <div class="navigation-buttons">
                <button id="prev-btn">Previous</button>
                <button id="next-btn">Next</button>
            </div>

            <div class="question-grid">
                <h3>Questions</h3>
                <div id="question-numbers" class="question-numbers">
                    <!-- Question numbers will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Results Page -->
        <div id="results-page" class="page">
            <div class="results-container">
                <!-- NEW: Confetti Container -->
                <div id="confetti-container"></div>
                <h1>Quiz Results</h1>
                
                <div class="score-display">
                    <div class="score-ring-container">
                        <svg class="score-ring" width="160" height="160">
                            <circle class="score-ring__background" stroke-width="12" r="74" cx="80" cy="80" />
                            <circle id="score-ring-circle" class="score-ring__circle" stroke-width="12" r="74" cx="80" cy="80" />
                        </svg>
                        <div class="score-circle-inner">
                            <span id="score-percentage">0%</span>
                        </div>
                    </div>
                    <div id="score-details-grid" class="score-details-grid">
                        <!-- Details will be populated by JS -->
                    </div>
                </div>

                <div id="result-status" class="result-status">
                    <!-- Result message will be populated by JavaScript -->
                </div>

                <div class="action-buttons">
                    <button>Retake Quiz</button>
                    <button id="review-answers-btn">Review Answers</button>
                    <button>Back to Chapter</button>
                </div>
            </div>
        </div>

        <!-- Review Page -->
        <div id="review-page" class="page">
            <button class="back-btn">← Back to Results</button>
            <h1>Review Your Answers</h1>
            <div id="review-container" class="review-container">
                <!-- Review content will be populated by JavaScript -->
            </div>
        </div>

        <!-- Bookmarks Page -->
        <div id="bookmarks-page" class="page">
            <button class="back-btn">← Back to Home</button>
            <h1>Bookmarked Questions</h1>
            <div id="bookmarks-container" class="review-container">
                <!-- Bookmarked questions will be populated by JavaScript -->
            </div>
        </div>

        <!-- Community Page -->
        <div id="community-page" class="page">
            <button class="back-btn">← Back to Home</button>
            <h1>Community Updates</h1>
            <div id="community-posts-container" class="community-posts-container">
                <!-- Community posts will be populated by JavaScript -->
            </div>
        </div>

        <!-- Leaderboard Page -->
        <div id="leaderboard-page" class="page">
            <button class="back-btn">← Back to Home</button>
            <h1>Leaderboard</h1>
            <p>Top 10 scores across all quizzes.</p>
            <div id="leaderboard-container" class="leaderboard-container">
                <div id="leaderboard-spinner" class="spinner-container" style="display: none;">
                    <div class="spinner"></div>
                </div>
                <ul id="leaderboard-list">
                    <!-- Leaderboard will be populated by JavaScript -->
                </ul>
            </div>
            <!-- NEW: User's Personal Rank Display -->
            <div id="user-rank-container" class="user-rank-container" style="display: none;">
                <h3>Your Rank</h3>
                <div id="user-rank-details">
                    <!-- User's rank will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- NEW: Profile Page -->
        <div id="profile-page" class="page">
            <button class="back-btn">← Back to Home</button>
            <h1>My Profile & Stats</h1>
            <div class="profile-grid">
                <div class="profile-card">
                    <h2 id="profile-user-name"></h2>
                    <p>Focus: <strong id="profile-user-focus"></strong></p>
                </div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-label">Total Quizzes Taken</span>
                        <span class="stat-value" id="profile-quizzes-taken">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Overall Average Score</span>
                        <span class="stat-value" id="profile-average-score">0%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Quizzes Passed</span>
                        <span class="stat-value" id="profile-quizzes-passed">0</span>
                    </div>
                </div>
            </div>
            <div id="profile-chart-container"></div>
        </div>

        <!-- NEW: Settings Page -->
        <div id="settings-page" class="page">
            <button class="back-btn">← Back to Home</button>
            <h1>Settings</h1>

            <div class="settings-layout">
                <!-- Account Section (Moved to top) -->
                <div class="setting-section" id="settings-account">
                    <h2 class="setting-section-title">Account</h2>
                    <div class="setting-card">
                        <div class="setting-card-header with-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                            <h3>Account Management</h3>
                            <button id="edit-account-btn" class="btn btn--icon" title="Edit Account Details">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>
                            </button>
                        </div>
                        <div class="setting-item">
                            <label for="account-name-input" class="setting-label">Your Name</label>
                            <input type="text" id="account-name-input" class="form-control" disabled>
                        </div>
                        <div class="setting-item">
                            <label for="account-pin-input" class="setting-label">Your 4-Digit PIN</label>
                            <input type="number" id="account-pin-input" class="form-control" maxlength="4" oninput="this.value=this.value.slice(0,4)" disabled>
                        </div>
                        <div class="setting-actions">
                            <button id="save-account-btn" class="btn btn--primary btn--full-width">Save Account Changes</button>
                        </div>
                    </div>
                </div>

                <!-- General Section -->
                <div class="setting-section" id="settings-general">
                    <!-- General Settings -->
                        <h2 class="setting-section-title">General</h2>
                        <div class="setting-card">
                            <div class="setting-card-header with-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
                                <h3>Quiz Settings</h3>
                            </div>
                            <div class="setting-item">
                                <label for="timer-duration-input" class="setting-label">Quiz Timer Duration</label>
                                <p class="setting-description">Time per question in seconds (10-180).</p>
                                <input type="number" id="timer-duration-input" class="form-control" min="10" max="180" step="5">
                            </div>
                             <div class="setting-actions">
                                <button id="save-quiz-settings-btn" class="btn btn--primary btn--full-width">Save Quiz Settings</button>
                            </div>
                </div>

                <!-- Danger Zone Section -->
                <div class="setting-section" id="settings-danger">
                    <h2 class="setting-section-title">Danger Zone</h2>
                    <div class="setting-card danger-zone">
                        <div class="danger-zone-item">
                            <div>
                                <strong>Delete Account</strong>
                                <p class="setting-description">Permanently delete your account and all data. This cannot be undone.</p>
                            </div>
                            <button id="delete-account-btn" class="btn btn--danger">Delete Account</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    

    <!-- Load data files -->
    <script src="classes.js"></script>
    <script src="quantitative.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- NEW: Chart.js library -->
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

    <script src="english.js"></script>
    <script src="reasoning.js"></script>
    
    
    <!-- Main application script -->
    <script src="app.js"></script>

  <!-- Footer Section -->
  <footer>
    <div class="footer-content">
        <div>
            <p>Made with love by Raj Mishra! - <span id="app-version"></span></p>
            <p>&copy; 2025 Quizify. All rights reserved.</p>
        </div>
    </div>
  </footer>

</body>

</html>
